!function(e){function t(o){if(s[o])return s[o].exports;var r=s[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var s={};return t.m=e,t.c=s,t.p="/public/assets/js/",t(0)}([function(e,t){"use strict";!function(){function e(e){var o=e.requests;o.map(t),""===$(".requests-others").html()&&$(".requests-others").html('<h4 class="container"> No requests at the moment</h4>'),""===$(".requests-mine").html()&&$(".requests-mine").html('<h4 class="container"> No requests at the moment</h4>'),$(".remove-button").click(function(e){var t=$(e.target),o=t.parents(".swap").find(".offered-book").text(),o=o.split(","),r=o[0],a=o[1],n=o[2]+","+o[3]+","+o[4];console.log(s,n,r,a),t.parents(".swap").remove(),$.post("http://localhost:3000/remove-request",{user:s,industryIdentifier:r,timestamp:a,otherPartyUsername:n})})}function t(e){for(var t=e.offeredBook.owner===s?".requests-mine":".requests-others",o=[e.offeredBook,e.requestedBook],r=s===e.offeredBook.owner?e.requestedBook.owner:e.offeredBook.owner,a='<div class="swap container">',n=0;n<o.length;n++){var i=o[n],u=i.owner.split(",")[2];0===n&&s===i.owner&&(a+="<h4>I'll swap:</h4>"),0===n&&s!==i.owner&&(a+='<h4>User <span class="username">'+u+"</span> would like to swap:</h4>"),1===n&&(a+="<h4>For:</h4>"),a+='<div class="book">',a+='<div class="row">',a+='<div class="col-sm-3">',i.image&&"no-image"!==i.image&&(a+='<img src="'+i.image+'" alt="book cover">'),a+="</div>",a+='<div class="col-sm-9 book-details">',a+='<cite class="book-title">'+i.title+"</cite>",i.authors&&(a+='<p class="authors">by '+i.authors+"</p>"),a+="<p>"+i.publishedDate+"</p>",i.pages&&(a+="<p>"+i.pages+" pages</p>"),a+="<p>Language: "+i.language+"</p>",a+="<p>"+i.industryIdentifier+"</p>",".requests-mine"===t&&0===n&&(a+='<span class="offered-book">'+i.industryIdentifier+","+i.timestamp+","+r+"</span>"),a+="</div>",a+="</div>",a+="</div>"}".requests-mine"===t&&(a+='<button type="button" class="btn btn-danger btn-xs remove-button pull-right">Remove request</button>'),a+="</div>",$(t).append(a)}var s=store.get("user");$.post("http://localhost:3000/requested-books",{user:s},e)}()}]);